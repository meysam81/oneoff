---
import Container from '../ui/Container.astro';
import Button from '../ui/Button.astro';
import Icon from '../icons/index.astro';
import { getGitHubData } from '../../utils/github';

const { binarySize } = await getGitHubData();
---

<section class="section relative overflow-hidden">
  <!-- Background gradient -->
  <div class="absolute inset-0 bg-gradient-to-b from-bg-primary via-accent-primary/5 to-bg-primary"></div>
  <div class="absolute inset-0 grid-bg opacity-30"></div>

  <Container size="lg" class="relative z-10">
    <div class="text-center">
      <!-- Decorative icon -->
      <div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-accent-primary/10 mb-8">
        <Icon name="zap" size={32} class="text-accent-primary" />
      </div>

      <h2 class="text-headline font-display font-bold text-fg-primary mb-4">
        Ready to simplify your job scheduling?
      </h2>

      <p class="text-lg text-fg-secondary max-w-2xl mx-auto mb-10">
        Join developers who've ditched complex infrastructure for a single binary.
        Download OneOff and schedule your first job in under a minute.
      </p>

      <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
        <Button href="#installation" size="lg">
          <Icon name="download" size={20} />
          Download OneOff
        </Button>
        <Button href="/catalog" variant="secondary" size="lg">
          Browse Job Templates
          <Icon name="arrowRight" size={16} />
        </Button>
      </div>

      <!-- Social proof -->
      <div class="mt-12 pt-8 border-t border-border-subtle">
        <div class="flex flex-col sm:flex-row items-center justify-center gap-6 text-sm text-fg-muted">
          <div class="flex items-center gap-2">
            <Icon name="github" size={18} />
            <span>Open Source • Apache-2.0 License</span>
          </div>
          <div class="hidden sm:block w-1 h-1 rounded-full bg-fg-muted"></div>
          <div class="flex items-center gap-2">
            <Icon name="shield" size={18} />
            <span>Self-hosted • Your data stays yours</span>
          </div>
          <div class="hidden sm:block w-1 h-1 rounded-full bg-fg-muted"></div>
          <div class="flex items-center gap-2">
            <Icon name="package" size={18} />
            <span>Single Binary • {binarySize}</span>
          </div>
        </div>
      </div>
    </div>
  </Container>
</section>
