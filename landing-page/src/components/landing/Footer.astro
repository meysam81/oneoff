---
import Container from '../ui/Container.astro';
import Icon from '../icons/index.astro';

const navigation = {
  product: [
    { name: 'Home', href: '/' },
    { name: 'Catalog', href: '/catalog' },
    { name: 'Roadmap', href: 'https://github.com/meysam81/oneoff/blob/main/ROADMAP.md', external: true },
    { name: 'Changelog', href: 'https://github.com/meysam81/oneoff/releases', external: true },
  ],
  resources: [
    { name: 'Documentation', href: 'https://github.com/meysam81/oneoff#readme', external: true },
    { name: 'API Reference', href: 'https://github.com/meysam81/oneoff#api-endpoints', external: true },
    { name: 'Contributing', href: 'https://github.com/meysam81/oneoff/blob/main/CONTRIBUTING.md', external: true },
    { name: 'Issues', href: 'https://github.com/meysam81/oneoff/issues', external: true },
  ],
  legal: [
    { name: 'Terms of Service', href: '/terms' },
    { name: 'Privacy Policy', href: '/privacy' },
  ],
};
---

<footer class="bg-bg-secondary/30 border-t border-border-subtle">
  <Container size="xl">
    <div class="py-8 sm:py-12 lg:py-16 px-2 sm:px-0">
      <div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-6 sm:gap-8 lg:gap-12">
        <!-- Brand -->
        <div class="col-span-2 sm:col-span-2 md:col-span-1">
          <a href="/" class="flex items-center gap-2 text-fg-primary mb-3 sm:mb-4">
            <Icon name="clock" size={20} class="text-accent-primary sm:w-6 sm:h-6" />
            <span class="font-display font-semibold text-base sm:text-lg">OneOff</span>
          </a>
          <p class="text-fg-secondary text-xs sm:text-sm leading-relaxed mb-3 sm:mb-4">
            One-time job scheduling, simplified. Self-hosted, single binary, zero dependencies.
          </p>
          <a
            href="https://github.com/meysam81/oneoff"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center gap-1.5 sm:gap-2 text-fg-muted hover:text-accent-primary transition-colors"
          >
            <Icon name="github" size={18} class="sm:w-5 sm:h-5" />
            <span class="text-xs sm:text-sm">Star on GitHub</span>
          </a>
        </div>

        <!-- Product -->
        <div>
          <h4 class="font-display font-semibold text-fg-primary mb-3 sm:mb-4 text-sm sm:text-base">Product</h4>
          <ul class="space-y-2 sm:space-y-3">
            {navigation.product.map(item => (
              <li>
                <a
                  href={item.href}
                  target={item.external ? '_blank' : undefined}
                  rel={item.external ? 'noopener noreferrer' : undefined}
                  class="text-fg-secondary hover:text-fg-primary text-xs sm:text-sm transition-colors inline-flex items-center gap-1"
                >
                  {item.name}
                  {item.external && <Icon name="external" size={10} class="text-fg-muted sm:w-3 sm:h-3" />}
                </a>
              </li>
            ))}
          </ul>
        </div>

        <!-- Resources -->
        <div>
          <h4 class="font-display font-semibold text-fg-primary mb-3 sm:mb-4 text-sm sm:text-base">Resources</h4>
          <ul class="space-y-2 sm:space-y-3">
            {navigation.resources.map(item => (
              <li>
                <a
                  href={item.href}
                  target={item.external ? '_blank' : undefined}
                  rel={item.external ? 'noopener noreferrer' : undefined}
                  class="text-fg-secondary hover:text-fg-primary text-xs sm:text-sm transition-colors inline-flex items-center gap-1"
                >
                  {item.name}
                  {item.external && <Icon name="external" size={10} class="text-fg-muted sm:w-3 sm:h-3" />}
                </a>
              </li>
            ))}
          </ul>
        </div>

        <!-- Legal -->
        <div>
          <h4 class="font-display font-semibold text-fg-primary mb-3 sm:mb-4 text-sm sm:text-base">Legal</h4>
          <ul class="space-y-2 sm:space-y-3">
            {navigation.legal.map(item => (
              <li>
                <a
                  href={item.href}
                  class="text-fg-secondary hover:text-fg-primary text-xs sm:text-sm transition-colors"
                >
                  {item.name}
                </a>
              </li>
            ))}
          </ul>
        </div>
      </div>
    </div>

    <!-- Bottom bar -->
    <div class="py-4 sm:py-6 border-t border-border-subtle px-2 sm:px-0">
      <div class="flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-4">
        <p class="text-fg-muted text-[10px] sm:text-sm text-center sm:text-left">
          &copy; {new Date().getFullYear()} OneOff Contributors. Open source under
          <a
            href="https://opensource.org/licenses/Apache-2.0"
            target="_blank"
            rel="noopener noreferrer"
            class="text-fg-secondary hover:text-accent-primary transition-colors"
          >
            Apache-2.0 License
          </a>.
        </p>

        <div class="flex items-center gap-4">
          <a
            href="https://github.com/meysam81/oneoff"
            target="_blank"
            rel="noopener noreferrer"
            class="text-fg-muted hover:text-fg-primary transition-colors p-1"
            title="GitHub"
          >
            <Icon name="github" size={18} class="sm:w-5 sm:h-5" />
          </a>
        </div>
      </div>
    </div>
  </Container>
</footer>
